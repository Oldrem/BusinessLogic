{"version":3,"sources":["images/id-card.png","LoginPage.js","Containers/LoginContainer.js","HomePage.js","Containers/HomeContainer.js","RegisterPage.js","Containers/RegisterContainer.js","LoadingScreen.js","SuperTable.js","ProtectedContainer.js","ColonistsPage.js","Containers/ColonistsContainer.js","NavigationBar.js","Containers/NavigationBarContainer.js","AnimalsPage.js","Containers/AnimalsPageContainer.js","RoomsPage.js","Containers/RoomsPageContainer.js","OccupationsPage.js","Containers/OccupationsPageContainer.js","ColoniesPage.js","Containers/ColoniesPageContainer.js","HomePageEdit.js","Containers/HomeEditContainer.js","ResourcesPage.js","WorkPage.js","Containers/WorkPageContainer.js","ReportPage.js","Containers/ReportPageContainer.js","ReportReviewPage.js","Containers/ReviewPageContainer.js","AnimalsEdit.js","Containers/AnimalsEditContainer.js","RoomsEdit.js","Containers/RoomsEditContainer.js","TransactionsPage.js","Containers/TransactionsPageContainer.js","OccupationsEdit.js","Containers/OccupationsEditContainer.js","ColoniesEdit.js","Containers/ColoniesEditContainer.js","ResourcesEdit.js","Containers/ResourcesEditContainer.js","App.js","reducers.js","middlewares/loginMiddleware.js","middlewares/registerMiddleware.js","middlewares/mainMiddleware.js","middlewares/middlewares.js","store.js","index.js"],"names":["module","exports","LoginPage","sendLoginRequest","props","dispatch","type","value","history","redirectToRegister","push","className","this","login","onChange","event","target","replace","password","error","disabled","formCorrect","onClick","React","Component","connect","store","user","appState","loginState","LoginContainer","withRouter","HomePage","exit","state","role","colonist","isLoading","console","log","roles","firstName","lastName","nickname","colonyJoinDate","tag","Link","to","HomeContainer","RegisterPage","redirectToLogin","register","loginError","rPassword","passwordError","registerState","RegisterContainer","LoadingScreen","SuperTable","filter","search","i","labels","map","label","key","class","name","isFilterUsed","length","rows","row","toString","includes","ii","content","column","inputClass","enableSearch","fluid","title","setState","addButton","ProtectedContainer","buttonRoles","out","userRoles","forEach","userRole","buttonRole","isUserOfRole","children","Colonists","colonists","remove","bind","fetch","then","response","json","data","colonistId","relationships","id","method","headers","updatedColonists","ownColonistID","relLevel","rel","find","relationshipId","colonist2Id","level","birthDate","ColonistsContainer","NavigationBar","pageRoles","pageRole","buttons","pages","buttonInfo","selectedClass","window","location","pathname","path","showNavigationTab","roleAccess","NavigationBarContainer","AnimalsPage","animals","animalId","animalList","animal","style","whiteSpace","animalTypeName","colonistNickname","trainingProgress","lastResourceCollection","size","color","AnimalsPageContainer","RoomsPage","rooms","updatedRooms","roomId","roomList","room","roomTypeName","area","width","RoomsPageContainer","OccupationsPage","occupations","signIn","generateShortDescripiptions","element","descriptionShort","description","substring","updatedOccupations","occupationId","body","JSON","stringify","occupationList","occupation","timeStarts","timeEnds","OccupationsPageContainer","ColoniesPage","colonies","updatedColonies","colonyId","colonistList","colony","leaderName","leaderLastName","population","ColoniesPageContainer","HomePageEdit","emptyItem","userLogin","item","handleChange","handleSubmit","preventDefault","onSubmit","for","autoComplete","HomeEditContainer","ResourcesPage","resources","resourceTypes","updatedresources","resourceId","resourceList","resource","roomCount","roomIds","amount","WorkPage","reports","signOff","catch","err","reportList","report","isReviewed","reportId","date","WorkPageContainer","ReportPage","emptyReport","reportBody","match","params","today","Date","getDay","getMonth","getFullYear","ReportReviewPage","reviewReport","reviewed","updatedReports","emptyMessage","ReviewPageContainer","AnimalsEdit","animalTypeId","pattern","maxLength","RoomsEdit","roomTypeId","transactions","transactionCount","isLoadingMore","transationsLoaded","transationsPerLoad","loadMore","updatedTransactions","transactionId","newTransactionCount","transaction","colonyName","resourceName","roomName","reverse","loadMoreButton","TransactionsPageContainer","TransactionsPage","OccupationsEdit","ColoniesEdit","ResourcesEdit","storedResource","storedResourceId","App","pageComponent","ReportPageContainer","AnimalsEditContainer","RoomsEditContainer","OccupationsEditContainer","ResourcesEditContainer","ColoniesEditContainer","component","pageRouters","page","Footer","combineReducers","action","Object","assign","points","drawing","mainState","Number","xField","yField","rField","xChange","yChange","currentPoint","getState","req","XMLHttpRequest","open","DEFAULT_URL","onload","handleLoginResponse","responseText","onerror","alert","setRequestHeader","send","text","parse","status","localStorage","setItem","loginMiddleware","next","handleRegisterResponse","registerMiddleware","updateDrawing","r","array","x","pointHistoryElements","concat","sort","a","b","y","ch","getPoints","handleUpdate","addPoint","updatePoint","deletePoint","startsWith","answer","mainMiddleware","applyMiddleware","initialState","getItem","createStore","reducers","middleware","host","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d180190d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from \"react\";\nimport {connect} from \"react-redux\";\n\nclass LoginPage extends React.Component{\n    render() {\n        return(\n            <div className=\"main-welcome\">\n                <h1>Добро пожаловать!</h1>\n                <div className=\"login-form\">\n                    <span className=\"login\">Логин:</span><br/>\n                    <input type=\"text\" value={this.props.login}\n                           onChange={event => this.props.dispatch({\n                               type: \"LOGIN_SET_LOGIN\",\n                               value: event.target.value.replace(\" \", \"\")})}/><br/>\n                    <span className=\"login\">Пароль:</span><br/>\n                    <input type=\"password\" value={this.props.password}\n                           onChange={event => this.props.dispatch({\n                               type: \"LOGIN_SET_PASSWORD\",\n                               value: event.target.value})}/>\n                    <br/>\n                    <div className={!this.props.error? 'hidden' : 'warn'}>\n                        Неверное имя пользователя или пароль!\n                    </div>\n                    <button className=\"submit-button\" disabled={!this.props.formCorrect}\n                            onClick={this.sendLoginRequest}>Войти</button>\n                    <button className=\"submit-button\" onClick={this.redirectToRegister}>Регистрация</button>\n                </div>\n            </div>\n        )\n    }\n    sendLoginRequest = ()=>{\n        this.props.dispatch({type:\"APP_LOGIN\", value:{history: this.props.history}})\n    };\n\n    redirectToRegister = ()=>{this.props.history.push(\"/register\")};\n\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        user: store.appState.user,\n        login: store.loginState.login,\n        password: store.loginState.password,\n        error: store.loginState.error,\n        formCorrect: store.loginState.formCorrect\n    }\n};\nexport default connect(mapStateToProps)(LoginPage)\n","import React from \"react\";\nimport {withRouter} from \"react-router-dom\";\nimport LoginPage from \"../LoginPage\";\n\n\nconst LoginContainer = withRouter((props)=>{\n    return(<LoginPage history={props.history}/>)\n});\n\nexport default LoginContainer;\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Button, FormGroup} from \"reactstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass HomePage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {role: [], colonist: {}, isLoading: true};\r\n    }\r\n    render() {\r\n        console.log(this.props.colonist);\r\n        return(\r\n        <div className=\"main-wrapper\">\r\n            <div className=\"Wrapper2\">\r\n            <div className=\"main\">\r\n                <p className=\"login-name\">Вы вошли как {this.props.user}</p>\r\n                <p className=\"login-name\">Роль: {this.props.roles}</p> <br/>\r\n                <p className=\"login-name\">Имя: {this.props.colonist.firstName}</p>\r\n                <p className=\"login-name\">Фамилия: {this.props.colonist.lastName}</p>\r\n                <p className=\"login-name\">Прозвище: {this.props.colonist.nickname}</p>\r\n                <p className=\"login-name\">Дата присоединения: {this.props.colonist.colonyJoinDate}</p>\r\n                <Button className=\"submit-button-main\" tag={Link} to=\"/edit\">Редактировать</Button>\r\n                <button className=\"submit-button-main\" onClick={this.exit}>Выйти</button><br/>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n\r\n\r\n    exit = ()=>{\r\n        this.props.dispatch({type: \"APP_LOGOUT\", value: {history: this.props.history}});\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n        roles: store.appState.roles,\r\n        colonist: store.appState.colonist\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(HomePage);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport MainPage from \"../HomePage\";\r\n\r\nconst HomeContainer = withRouter((props)=>{\r\n    return(<MainPage history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default HomeContainer;\r\n","import React from \"react\";\nimport {connect} from \"react-redux\";\n\nclass RegisterPage extends React.Component{\n    render() {\n        return(\n            <div className=\"main-welcome\">\n                <h1>Регистрация</h1>\n                <div className=\"login-form\">\n                <span className=\"login\">Логин</span><br/>\n                <input type=\"text\" value={this.props.login}\n                       onChange={event => this.props.dispatch({\n                           type: \"REGISTER_SET_LOGIN\",\n                           value: event.target.value.replace(\" \", \"\")})}/><br/>\n                <div className={!this.props.loginError? 'hidden' : 'warn'}>\n                    Пользователь с таким именем уже существует\n                </div>\n                <span className=\"login\">Пароль</span><br/>\n                <input type=\"password\" value={this.props.password}\n                       onChange={event => this.props.dispatch({\n                           type:\"REGISTER_SET_PASSWORD\",\n                           value: event.target.value})}/><br/>\n                <span className=\"login\">Повторите пароль</span><br/>\n                <input type=\"password\" value={this.props.rPassword}\n                       onChange={event => this.props.dispatch({\n                           type:\"REGISTER_SET_R_PASSWORD\",\n                           value: event.target.value})}/><br/>\n                <div className={!this.props.passwordError? 'hidden' : 'warn'}>\n                    Пароли не совпадают\n                </div>\n                <button className=\"submit-button\" onClick={this.register} disabled={!this.props.formCorrect}>Регистрация</button>\n                <button className=\"submit-button\" onClick={this.redirectToLogin}>Назад</button>\n                </div>\n            </div>\n        )\n    }\n    redirectToLogin = ()=>{this.props.history.push(\"/login\")};\n\n    register = ()=>{\n       this.props.dispatch({type: \"APP_REGISTER\", value:{history: this.props.history}})\n    };\n}\n\nconst mapStateToProps = function(store) {\n    return {\n        user: store.appState.user,\n        login: store.registerState.login,\n        password: store.registerState.password,\n        rPassword: store.registerState.rPassword,\n        passwordError: store.registerState.passwordError,\n        loginError: store.registerState.loginError,\n        formCorrect: store.registerState.formCorrect\n    }\n};\n\nexport default connect(mapStateToProps)(RegisterPage);\n","import React from \"react\";\nimport {withRouter} from \"react-router-dom\";\nimport RegisterPage from \"../RegisterPage\";\n\nconst RegisterContainer = withRouter(({history})=>{\n    return(<RegisterPage history={history}/>)\n});\n\n\nexport default RegisterContainer;\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'reactstrap';\r\n\r\nclass LoadingScreen extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"LoadingScreen\">\r\n                Loading...\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoadingScreen;\r\n","import React, { Component } from 'react';\r\nimport { Button, Container, Table } from 'reactstrap';\r\n\r\nclass SuperTable extends Component \r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        let filter = props.search ? props.search : \"\";\r\n        this.state = {filter: filter};\r\n    }\r\n\r\n    render() {\r\n        \r\n        let i = 0;\r\n        const labels = this.props.labels.map(label => {\r\n            return <th key={i++} className={label.class}>{label.name}</th>;\r\n            }       \r\n        )\r\n\r\n        const filter = this.state.filter;\r\n        const isFilterUsed = filter.length > 0;\r\n\r\n        i = 0;\r\n        const rows = this.props.rows.map(row => {\r\n            if (!isFilterUsed || row.toString().includes(filter))\r\n            {\r\n                let ii = 0;\r\n                let content = row.map(column => {\r\n                    return <td key={ii++}>{column}</td>\r\n                });\r\n\r\n                return <tr key={i++}>{content}</tr>;\r\n            }\r\n        });\r\n\r\n        const inputClass = this.props.enableSearch ? \"\" : \"Hidden\";\r\n\r\n        return (\r\n            <div>\r\n                <Container fluid>\r\n                    <div className=\"TableTitle\">\r\n                        <div><h2>{this.props.title}</h2></div>\r\n                        <div>\r\n                            filter: \r\n                            <input className={inputClass} type=\"text\" \r\n                                value={this.state.filter}\r\n                                onChange={event => this.setState({filter: event.target.value})}/>\r\n                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\r\n                            {this.props.addButton}\r\n                        </div> \r\n                    </div>\r\n                    <hr></hr>\r\n                    <Table>\r\n                        <thead>\r\n                        <tr>\r\n                            {labels}\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SuperTable;\r\n","import React, { Component } from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'reactstrap';\r\n\r\nclass ProtectedContainer extends Component {\r\n\r\n    isUserOfRole(buttonRoles)\r\n    {\r\n        let out = false;\r\n        this.props.userRoles.forEach(userRole => {\r\n            buttonRoles.forEach(buttonRole => {\r\n                if (userRole === buttonRole) out = true; // Fuck JS c:\r\n            })\r\n        });\r\n        return out;\r\n    }\r\n\r\n    render() {\r\n        if (this.isUserOfRole(this.props.roles))\r\n            return this.props.children;\r\n        else return null;\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        userRoles: store.appState.roles\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProtectedContainer);\r\n","import React, { Component } from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport LoadingScreen from './LoadingScreen';\r\nimport SuperTable from './SuperTable';\r\nimport ProtectedContainer from './ProtectedContainer';\r\n\r\nclass Colonists extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {colonists: [], isLoading: true};\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n        fetch('/api/colonists')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({colonists: data}))\r\n            .then(() => fetch('api/relationship/' + this.props.colonist.colonistId)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({relationships: data, isLoading: false}))\r\n            );\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/api/colonist/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedColonists = [...this.state.colonists].filter(i => i.colonistId !== id);\r\n            this.setState({colonists: updatedColonists});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {colonists, isLoading} = this.state;\r\n\r\n        if (isLoading) {\r\n            return <LoadingScreen/>;\r\n        }\r\n\r\n        const relationships = this.state.relationships;\r\n        const ownColonistID = this.props.colonist.colonistId;\r\n\r\n        const rows = colonists.map(colonist => {\r\n            let relLevel;\r\n            if (colonist.colonistId === ownColonistID)\r\n                relLevel = \"It's you!\"\r\n            else\r\n            {\r\n                let rel = relationships.find(rel => rel.relationshipId.colonist2Id === colonist.colonistId);\r\n                relLevel = rel ? rel.level : 0;\r\n            }\r\n            return [\r\n                colonist.firstName,\r\n                colonist.lastName,\r\n                colonist.nickname,\r\n                relLevel,\r\n                colonist.birthDate,\r\n                colonist.colonyJoinDate,\r\n                <ProtectedContainer roles ={[\"MANAGER\", \"ADMIN\"]}> \r\n                    <ButtonGroup>\r\n                                <Button to={\"/colonist/\" + colonist.colonistId}>Edit</Button>\r\n                                <Button onClick={() => this.remove(colonist.colonistId)}>Delete</Button> \r\n                    </ButtonGroup>\r\n                </ProtectedContainer>,\r\n            ]\r\n        });\r\n\r\n        const labels = [\r\n            {name: \"First Name\"},\r\n            {name: \"Last Name\"},\r\n            {name: \"Nickname\"},\r\n            {name: \"Your opinion\"},\r\n            {name: \"Birth Date\"},\r\n            {name: \"Colony Join Date\"},\r\n            {name: \"\", class: \"Shrink\"},\r\n        ];\r\n\r\n        const addButton = <Button to=\"/colonists/new\">Add Colonist?</Button>;\r\n\r\n        return (\r\n            <SuperTable title=\"Really cool guys:\" \r\n                        labels={labels} rows={rows} addButton={addButton} enableSearch/>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        colonist: store.appState.colonist\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Colonists);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport Colonists from \"../ColonistsPage\";\r\n\r\nconst ColonistsContainer = withRouter((props)=>{\r\n    return(<Colonists history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default ColonistsContainer;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'reactstrap';\r\nimport id_card from \"./images/id-card.png\"\r\nimport {connect} from \"react-redux\";\r\n\r\nclass NavigationBar extends Component {\r\n\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n    }\r\n\r\n    isUserOfRole(pageRoles)\r\n    {\r\n        let out = false;\r\n        this.props.roles.forEach(userRole => {\r\n            pageRoles.forEach(pageRole => {\r\n                if (userRole === pageRole) out = true; // Fuck JS c:\r\n            })\r\n        });\r\n        return out;\r\n    }\r\n    render() {\r\n\r\n        const buttonsMetainfo = this.props.pages;\r\n\r\n        const buttons = buttonsMetainfo.map( buttonInfo => {\r\n            let selectedClass = window.location.pathname === buttonInfo.path ? \"Selected\" : \"\";\r\n            if (buttonInfo.showNavigationTab && this.isUserOfRole(buttonInfo.roleAccess))\r\n                return ( \r\n                    <Link to={buttonInfo.path} key={buttonInfo.path}>\r\n                        <Button className={selectedClass}>{buttonInfo.name}</Button>\r\n                    </Link>\r\n                );\r\n        })\r\n\r\n        return (\r\n            <div className=\"NavigationBar\">\r\n                    {buttons}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        roles: store.appState.roles\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(NavigationBar);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport NavigationBar from \"../NavigationBar\";\r\n\r\nconst NavigationBarContainer = withRouter((props)=>{\r\n    return(<NavigationBar history={props.history} store={props.store} pages={props.pages}/>)\r\n});\r\n\r\nexport default NavigationBarContainer;","import React, { Component } from 'react';\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport ProtectedContainer from \"./ProtectedContainer\";\r\n\r\nclass AnimalsPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {animals: [], isLoading: true};\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n        fetch('/api/animals')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({animals: data, isLoading: false}));\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/api/animal/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedColonists = [...this.state.animals].filter(i => i.animalId !== id);\r\n            this.setState({animals: updatedColonists});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {animals, isLoading} = this.state;\r\n\r\n        if (isLoading) {\r\n            return(\r\n                <div>\r\n                    <p>Loading...</p>\r\n                </div>\r\n            ) ;\r\n        }\r\n\r\n        console.log(animals);\r\n\r\n        const animalList = animals.map(animal => {\r\n            return <tr key={animal.animal.animalId}>\r\n                <td style={{whiteSpace: 'nowrap'}}>{animal.animal.name}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{animal.animalTypeName}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{animal.colonistNickname}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{animal.animal.trainingProgress}%</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{animal.animal.lastResourceCollection}</td>\r\n                <td>\r\n                    <ButtonGroup>\r\n                        <ProtectedContainer roles={[\"MANAGER\"]}> <Link to={'/animals/' + animal.animal.animalId}><Button >Edit.</Button></Link></ProtectedContainer>\r\n                        <ProtectedContainer roles={[\"MANAGER\"]}> <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(animal.animal.animalId)}>Delete</Button></ProtectedContainer>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Container fluid>\r\n                    <div className=\"float-right\">\r\n                        <Button color=\"success\" tag={Link} to=\"/animals/new\">Add an animal?</Button>\r\n                    </div>\r\n                    <h3>All the good boys and girls:</h3>\r\n                    <Table>\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Animal type</th>\r\n                            <th>Responsible</th>\r\n                            <th>Training progress</th>\r\n                            <th>Last resource collection</th>\r\n                            <th className=\"Shrink\">Actions</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {animalList}\r\n                        </tbody>\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AnimalsPage;\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport AnimalsPage from \"../AnimalsPage\";\r\n\r\nconst AnimalsPageContainer = withRouter((props)=>{\r\n    return(<AnimalsPage history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default AnimalsPageContainer;","import React, { Component } from 'react';\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport ProtectedContainer from \"./ProtectedContainer\";\r\n\r\nclass RoomsPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {rooms: [], isLoading: true};\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n        fetch('api/rooms')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({rooms: data, isLoading: false}));\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/api/room/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedRooms = [...this.state.rooms].filter(i => i.roomId !== id);\r\n            this.setState({rooms: updatedRooms});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {rooms, isLoading} = this.state;\r\n\r\n        if (isLoading) {\r\n            return(\r\n                <div>\r\n                    <p>Loading...</p>\r\n                </div>\r\n            ) ;\r\n        }\r\n\r\n        console.log(rooms);\r\n\r\n        const roomList = rooms.map(room => {\r\n            return <tr key={room.room.roomId}>\r\n                <td style={{whiteSpace: 'nowrap'}}>{room.room.name}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{room.roomTypeName}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{room.room.area}</td>\r\n                <td>\r\n                    <ButtonGroup>\r\n                        <ProtectedContainer roles={[\"MANAGER\"]}><Link to={'/rooms/' + room.room.roomId}><Button >Edit.</Button></Link></ProtectedContainer>\r\n                        <ProtectedContainer roles={[\"MANAGER\"]}><Button size=\"sm\" onClick={() => this.remove(room.room.roomId)}>Delete</Button></ProtectedContainer>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Container fluid>\r\n                    <div className=\"float-right\">\r\n                        <Button color=\"success\" tag={Link} to=\"/rooms/new\">Add a room?</Button>\r\n                    </div>\r\n                    <h3>ResidentSleepers and workplaces:</h3>\r\n                    <Table className=\"mt-4\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th width=\"15%\">Name</th>\r\n                            <th width=\"15%\">Room type</th>\r\n                            <th width=\"15%\">Area</th>\r\n                            <th width=\"10%\">Actions</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {roomList}\r\n                        </tbody>\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default RoomsPage;\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport RoomsPage from \"../RoomsPage\";\r\n\r\nconst RoomsPageContainer = withRouter((props)=>{\r\n    return(<RoomsPage history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default RoomsPageContainer;","import React, { Component } from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport NavigationBar from './NavigationBar';\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport ProtectedContainer from \"./ProtectedContainer\";\r\n\r\nclass OccupationsPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {occupations: [], colonist: {}, isLoading: true};\r\n        this.remove = this.remove.bind(this);\r\n        this.signIn = this.signIn.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n        fetch('/api/colonist/' + this.props.user)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({colonist : data}));\r\n\r\n        fetch('/api/occupations')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({occupations: data, isLoading: false}))\r\n            .then(() => this.generateShortDescripiptions());\r\n    }\r\n\r\n    generateShortDescripiptions()\r\n    {\r\n        const maxDecriptionLength = 40;\r\n        let occupations = this.state.occupations;\r\n        occupations.forEach(element => {\r\n            element.descriptionShort = element.description.substring(0, maxDecriptionLength);\r\n            if (element.description.length > maxDecriptionLength)\r\n                element.descriptionShort += \"...\";\r\n        });\r\n        this.setState({occupations: occupations, isLoading: false});\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/api/occupation/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedOccupations = [...this.state.occupations].filter(i => i.occupationId !== id);\r\n            this.setState({occupations: updatedOccupations});\r\n        });\r\n    }\r\n\r\n    async signIn(id){\r\n        await fetch('/api/colonist/addjob/' + id,{\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(this.state.colonist),\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {occupations, isLoading} = this.state;\r\n\r\n\r\n        if (isLoading) {\r\n            return(\r\n                <div>\r\n                    <p>Loading...</p>\r\n                </div>\r\n            );\r\n        }\r\n        const occupationList = occupations.map(occupation => {\r\n            return <tr key={occupation.occupationId}>\r\n                <td className=\"Shrink\">{occupation.name}</td>\r\n                <td className=\"Overflow\" title={occupation.description}>{occupation.description}</td>\r\n                <td className=\"Shrink\">{occupation.timeStarts}</td>\r\n                <td className=\"Shrink\">{occupation.timeEnds}</td>\r\n                <td>\r\n                    <ButtonGroup>\r\n                        <Button size=\"sm\" onClick={() => this.signIn(occupation.occupationId)}>Sign in</Button>\r\n                        <ProtectedContainer roles={[\"MANAGER\"]}> <Link to={'/occupations/' + occupation.occupationId}><Button >Edit.</Button></Link></ProtectedContainer>\r\n                            <ProtectedContainer roles={[\"MANAGER\"]}><Button size=\"sm\"  onClick={() => this.remove(occupation.occupationId)}>Delete</Button></ProtectedContainer>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Container fluid>\r\n                    <div className=\"float-right\">\r\n                        <Button color=\"success\" tag={Link} to=\"/occupations/new\">Опять работа?</Button>\r\n                    </div>\r\n                    <h3>Go find a job you sausage roll looking twat:</h3>\r\n                    <Table>\r\n                        <thead>\r\n                        <tr>\r\n                            <th className=\"Shrink\">Name</th>\r\n                            <th className=\"Overflow\">Description</th>\r\n                            <th className=\"Shrink\">Start time</th>\r\n                            <th className=\"Shrink\">End time</th>\r\n                            <th className=\"Shrink\"></th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {occupationList}\r\n                        </tbody>\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n        roles: store.appState.roles\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(OccupationsPage);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport OccupationsPage from \"../OccupationsPage\";\r\n\r\nconst OccupationsPageContainer = withRouter((props)=>{\r\n    return(<OccupationsPage history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default OccupationsPageContainer;","import React, { Component } from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport LoadingScreen from './LoadingScreen';\r\nimport ProtectedContainer from \"./ProtectedContainer\";\r\n\r\nclass ColoniesPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {colonies: [], isLoading: true};\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n        fetch('/api/colonies')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({colonies: data, isLoading: false}));\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/api/colony/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedColonies = [...this.state.colonies].filter(i => i.colonyId !== id);\r\n            this.setState({colonies: updatedColonies});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {colonies, isLoading} = this.state;\r\n\r\n        if (isLoading) {\r\n            return <LoadingScreen/>;\r\n        }\r\n\r\n        const colonistList = colonies.map(colony => {\r\n            return <tr key={colony.colonyId}>\r\n                <td style={{whiteSpace: 'nowrap'}}>{colony.name}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{colony.leaderName}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{colony.leaderLastName}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>{colony.population}</td>\r\n                <td style={{whiteSpace: 'nowrap'}}>WIP</td>\r\n                <td>\r\n                    <ButtonGroup>\r\n                        <ProtectedContainer roles={[\"MANAGER\"]}><Link to={'/colonies/' + colony.colonyId}><Button >Edit.</Button></Link></ProtectedContainer>\r\n                        <ProtectedContainer roles={[\"MANAGER\"]}><Button size=\"sm\" color=\"danger\" onClick={() => this.remove(colony.colonyId)}>Delete</Button></ProtectedContainer>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Container fluid>\r\n                    <div className=\"float-right\">\r\n                        <Button color=\"success\" tag={Link} to=\"/colonies/new\">A new challenger?</Button>\r\n                    </div>\r\n                    <h3>Full list of a lower class:</h3>\r\n                    <Table className=\"mt-4\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th width=\"15%\">Name</th>\r\n                            <th width=\"15%\">Leader's first name</th>\r\n                            <th width=\"15%\">Leader's last name</th>\r\n                            <th width=\"15%\">Population</th>\r\n                            <th width=\"15%\">Our relationship</th>\r\n                            <th width=\"10%\">Actions</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {colonistList}\r\n                        </tbody>\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ColoniesPage;\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport ColoniesPage from \"../ColoniesPage\";\r\n\r\nconst ColoniesPageContainer = withRouter((props)=>{\r\n    return(<ColoniesPage history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default ColoniesPageContainer;","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass HomePageEdit extends Component {\r\n\r\n    emptyItem = {\r\n        firstName: '',\r\n        lastName: '',\r\n        nickname: '',\r\n        userLogin: ''\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            item: this.emptyItem\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const colonist = await (await fetch('api/colonist/' + this.props.user)).json();\r\n        this.setState({item: colonist});\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({item});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const {item} = this.state;\r\n\r\n        await fetch('/api/colonist/' + this.state.item.colonistId, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item),\r\n        });\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    render() {\r\n        const {item} = this.state;\r\n\r\n        return <div>\r\n            <Container>\r\n                <h2>Edit Personal Information</h2>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"firstName\">First name</Label>\r\n                        <Input type=\"text\" name=\"firstName\" id=\"firstName\" value={item.firstName || ''}\r\n                               onChange={this.handleChange} autoComplete=\"First name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"lastName\">Last name</Label>\r\n                        <Input type=\"text\" name=\"lastName\" id=\"lastName\" value={item.lastName || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Last name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"nickname\">Nickname</Label>\r\n                        <Input type=\"text\" name=\"nickname\" id=\"nickname\" value={item.nickname || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Nickname\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n                        <Button color=\"secondary\" tag={Link} to=\"/\">Cancel</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            </Container>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(HomePageEdit);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport HomePageEdit from \"../HomePageEdit\";\r\n\r\nconst HomeEditContainer = withRouter((props)=>{\r\n    return(<HomePageEdit history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default HomeEditContainer;\r\n","import React, { Component } from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport LoadingScreen from './LoadingScreen';\r\nimport ProtectedContainer from \"./ProtectedContainer\";\r\n\r\nclass ResourcesPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {resources: [], resourceTypes: [], isLoading: true};\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n        fetch('/api/resourceCount')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({resources: data, isLoading: false}));\r\n    }\r\n\r\n    // TODO Won't work. Needs adjustments, probably to add/remove resources\r\n    async remove(id) {\r\n        await fetch(`/api/storedResource/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedresources = [...this.state.resources].filter(i => i.resourceId !== id);\r\n            this.setState({resources: updatedresources});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {resources, isLoading} = this.state;\r\n\r\n        if (isLoading) {\r\n            return <LoadingScreen/>;\r\n        }\r\n\r\n        const resourceList = resources.map(resource => {\r\n            let roomCount = resource.roomIds.length;\r\n            return <tr key={resource.resource.resourceId}>\r\n                <td>{resource.resource.name}</td>\r\n                <td>{resource.amount}</td>\r\n                <td>{roomCount} rooms...</td>\r\n                <td>\r\n                </td>\r\n            </tr>\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <Container fluid>\r\n                    <div className=\"float-right\">\r\n                        <Button color=\"success\" tag={Link} to=\"/resources/new\">Add resource?</Button>\r\n                    </div>\r\n                    <h3>Behold! Our stuff:</h3>\r\n                    <Table className=\"mt-4\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Amount</th>\r\n                            <th>In rooms</th>\r\n                            <th className=\"Shrink\">Actions</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {resourceList}\r\n                        </tbody>\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ResourcesPage;\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Button, ButtonGroup, FormGroup, Table} from \"reactstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass WorkPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {occupations: [], reports: [], colonist: {}, isLoading: true};\r\n        this.signOff = this.signOff.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        fetch('/api/colonist/' + this.props.user)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({colonist : data}));\r\n        fetch('/api/colonistlogin/' + this.props.user + '/occupations')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({occupations: data}))\r\n            .catch(err => {console.error('Error:', err)});\r\n        fetch('/api/reports/' + this.props.user)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({reports: data, isLoading: false}))\r\n            .catch(err => {console.error('Error:', err)});\r\n    }\r\n\r\n    async signOff(id){\r\n        await fetch('/api/colonist/removejob/' + id,{\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(this.state.colonist),\r\n        }).then(() => {\r\n            let updatedOccupations = [...this.state.occupations].filter(i => i.occupationId !== id);\r\n            this.setState({occupations: updatedOccupations});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {occupations, reports, isLoading} = this.state;\r\n\r\n        if (isLoading) {\r\n            return(\r\n                <div>\r\n                    <p>Loading...</p>\r\n                </div>\r\n            ) ;\r\n        }\r\n\r\n        const occupationList = occupations.map(occupation => {\r\n            if (occupation.timeStarts === \"null\") {\r\n                return <div key={occupation.occupationId}>\r\n                    <p>Работа: {occupation.name}</p>\r\n                    <p>Время начала: {occupation.timeStarts}</p>\r\n                    <p>Время окончания: {occupation.timeEnds}</p>\r\n                    <p>Описание: {occupation.description}</p>\r\n                    <p> <Button size=\"sm\" onClick={() => this.signOff(occupation.occupationId)}>Sign off</Button>\r\n                        <Link to={'/report/' + occupation.occupationId}><Button >Send work report.</Button></Link> </p>\r\n                </div>\r\n            }\r\n            else {\r\n                return <div key={occupation.occupationId}>\r\n                    <p>Работа: {occupation.name}</p>\r\n                    <p>Время: Конкретное расписание отсутствует</p>\r\n                    <p>Описание: {occupation.description}</p>\r\n                    <p> <Button size=\"sm\" onClick={() => this.signOff(occupation.occupationId)}>Sign off</Button>\r\n                        <Link to={'/report/' + occupation.occupationId}><Button >Send work report.</Button></Link> </p>\r\n                </div>\r\n            }\r\n        });\r\n\r\n        const reportList = reports.map(report => {\r\n            JSON.stringify(reports);\r\n            console.log(reports);\r\n            if (report.isReviewed) {\r\n                return  <tr key={report.reportId}>\r\n                    <td style={{whiteSpace: 'nowrap'}}>{report.description}</td>\r\n                    <td style={{whiteSpace: 'nowrap'}}>{report.date}</td>\r\n                    <td style={{whiteSpace: 'nowrap'}}>Reviewed!</td>\r\n                </tr>\r\n            }\r\n            else {\r\n                return <tr key={report.reportId}>\r\n                    <td style={{whiteSpace: 'nowrap'}}>{report.description}</td>\r\n                    <td style={{whiteSpace: 'nowrap'}}>{report.date}</td>\r\n                    <td style={{whiteSpace: 'nowrap'}}>Is being reviewed.</td>\r\n                </tr>\r\n            }\r\n        });\r\n\r\n        return (\r\n            <div className=\"main-wrapper\">\r\n                <div className=\"Wrapper2\">\r\n                    <div className=\"main\">\r\n                        {occupationList}\r\n                        <Table className=\"mt-4\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th width=\"45%\">Report description</th>\r\n                                <th width=\"15%\">Date</th>\r\n                                <th width=\"15%\">State</th>\r\n\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {reportList}\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(WorkPage);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport WorkPage from \"../WorkPage\";\r\n\r\nconst WorkPageContainer = withRouter((props)=>{\r\n    return(<WorkPage history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default WorkPageContainer;\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass ReportPage extends Component {\r\n\r\n    emptyReport = {\r\n        userLogin: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        occupation: '',\r\n        date: '',\r\n        description: '',\r\n        isReviewed: ''\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            reportBody: this.emptyReport,\r\n            date: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let occupationId = this.props.match.params.occupationId;\r\n        const colonist = await (await fetch('/api/colonist/' + this.props.user)).json();\r\n        const occupation = await (await fetch('/api/occupation/' + occupationId)).json();\r\n        JSON.stringify(colonist);\r\n        JSON.stringify(occupation);\r\n        let today = new Date(),\r\n            date = (today.getDay() < 10 ? ('0'+today.getDay()) : today.getDay())+ '.'\r\n                + (today.getMonth()+1< 10 ? '0'+(today.getMonth()+1) : today.getMonth()+1) + '.'\r\n                + today.getFullYear();\r\n        let report = {\r\n            userLogin: this.props.user,\r\n            firstName: colonist.firstName,\r\n            lastName: colonist.lastName,\r\n            occupation: occupation.name,\r\n            description: '',\r\n            isReviewed: 'false'\r\n        };\r\n        this.setState({reportBody : report, date: date});\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let reportBody = {...this.state.reportBody};\r\n        reportBody[name] = value;\r\n        this.setState({reportBody});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const {reportBody} = this.state;\r\n\r\n        await fetch('/api/report/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(reportBody),\r\n        });\r\n        this.props.history.push('/work');\r\n    }\r\n\r\n    render() {\r\n        const {reportBody, date} = this.state;\r\n\r\n        return <div>\r\n            <Container>\r\n                <div className=\"main-wrapper\"><div className=\"Wrapper2\"><div className=\"main\">\r\n                    <h3>Report form:</h3>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"firstName\">\r\n                            Имя: {reportBody.firstName}\r\n                        </Label>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"lastName\">\r\n                            Фамилия: {reportBody.lastName}\r\n                        </Label>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"occupation\">\r\n                            Работа: {reportBody.occupation}\r\n                        </Label>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"description\">Detailed report of the work day:</Label><br/>\r\n                        <Input type=\"textarea\" name=\"description\" id=\"report-description\" value={reportBody.description || ''}\r\n                               onChange={this.handleChange}/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"date\">\r\n                            Дата: {date}\r\n                        </Label>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\" type=\"submit\">Отправить</Button>{' '}\r\n                        <Link to={'/work'}><Button>Назад</Button></Link>\r\n                    </FormGroup>\r\n                </Form>\r\n                </div></div></div>\r\n            </Container>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(ReportPage);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport ReportPage from \"../ReportPage\";\r\n\r\nconst ReportPageContainer = withRouter(({history})=>{\r\n    return(<ReportPage history={history}/>)\r\n});\r\n\r\n\r\nexport default ReportPage;\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Button, ButtonGroup, FormGroup, Table} from \"reactstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass ReportReviewPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {reports: [], isLoading: true};\r\n        this.reviewReport = this.reviewReport.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        fetch('/api/reports/unreviewed')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({reports: data, isLoading: false}))\r\n            .catch(err => {console.error('Error:', err)});\r\n    }\r\n\r\n    async reviewReport(report) {\r\n        report.reviewed = true;\r\n        await fetch('/api/report/' + report.reportId, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(report),\r\n        }).then(() => {\r\n            let updatedReports = [...this.state.reports].filter(i => i.reportId !== report.reportId);\r\n            this.setState({reports: updatedReports});\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {reports, isLoading} = this.state;\r\n\r\n        if (isLoading) {\r\n            return(\r\n                <div>\r\n                    <p>Loading...</p>\r\n                </div>\r\n            ) ;\r\n        }\r\n\r\n        const reportList =\r\n            reports.map(report => {\r\n                return <tr key={report.reportId}>\r\n                    <td style={{whiteSpace: 'nowrap'}}>{report.date}</td>\r\n                    <td style={{whiteSpace: 'nowrap'}}>{report.firstName}</td>\r\n                    <td style={{whiteSpace: 'nowrap'}}>{report.lastName}</td>\r\n                    <td style={{whiteSpace: 'nowrap'}}>{report.description}</td>\r\n                    <td>\r\n                        <ButtonGroup>\r\n                            <Button size=\"sm\" color=\"danger\" onClick={() => this.reviewReport(report)}>Mark as\r\n                                reviewed</Button>\r\n                        </ButtonGroup>\r\n                    </td>\r\n                </tr>\r\n        });\r\n\r\n        let emptyMessage = \"\";\r\n        if (reports.length === 0){\r\n            emptyMessage = <p>Looks like there is no reports left. Great job!</p>;\r\n        }\r\n\r\n        return (\r\n            <div className=\"main-wrapper\">\r\n                <div className=\"Wrapper2\">\r\n                    <div className=\"main\">\r\n                        <Table className=\"mt-4\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th width=\"15%\">Date</th>\r\n                                <th width=\"15%\">First Name</th>\r\n                                <th width=\"15%\">Last Name</th>\r\n                                <th width=\"45%\">Report description</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {reportList}\r\n                            </tbody>\r\n                        </Table>\r\n                        {emptyMessage}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(ReportReviewPage);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport ReportReviewPage from \"../ReportReviewPage\";\r\n\r\nconst ReviewPageContainer = withRouter((props)=>{\r\n    return(<ReportReviewPage history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default ReviewPageContainer;\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass AnimalsEdit extends Component {\r\n\r\n    emptyItem = {\r\n        animalId: '',\r\n        animalTypeId: 1,\r\n        name: '',\r\n        trainingProgress: '',\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            item: this.emptyItem\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let animalId = this.props.match.params.animalId;\r\n        console.log(animalId);\r\n        if (this.props.match.params.animalId !== 'new') {\r\n            const animal = await (await fetch('/api/animal/' + this.props.match.params.animalId)).json();\r\n            this.setState({item: animal});\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({item});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const {item} = this.state;\r\n        console.log(item);\r\n        await fetch('/api/animal' + (item.animalId ? '/' + item.animalId : ''),{\r\n            method: (item.animalId) ? 'PUT' : 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item),\r\n        });\r\n        this.props.history.push('/animals');\r\n    }\r\n\r\n    render() {\r\n        const {item} = this.state;\r\n        return <div>\r\n            <Container>\r\n                <h2>Edit Personal Information</h2>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"name\">Animal name:</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"animalName\" value={item.name || ''}\r\n                               onChange={this.handleChange} autoComplete=\"First name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"trainingProgress\">Training progress:</Label>\r\n                        <input type=\"text\" pattern=\"[0-9]*\" maxLength=\"3\" name=\"trainingProgress\" id=\"lastName\" value={item.trainingProgress || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Training progress\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n                        <Button color=\"secondary\" tag={Link} to=\"/\">Cancel</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            </Container>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(AnimalsEdit);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport AnimalsEdit from \"../AnimalsEdit\";\r\n\r\nconst AnimalsEditContainer = withRouter((props)=>{\r\n    return(<AnimalsEdit history={props.history} store={props.store}/>)\r\n});\r\n\r\n\r\nexport default AnimalsEdit;\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass RoomsEdit extends Component {\r\n\r\n    emptyItem = {\r\n        roomId: '',\r\n        roomTypeId: 1,\r\n        name: '',\r\n        area: '',\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            item: this.emptyItem\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let roomId = this.props.match.params.roomId;\r\n        console.log(roomId);\r\n        if (this.props.match.params.roomId !== 'new') {\r\n            const room = await (await fetch('/api/room/' + roomId)).json();\r\n            this.setState({item: room});\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({item});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const {item} = this.state;\r\n        console.log(item);\r\n        await fetch('/api/room' + (item.roomId ? '/' + item.roomId : ''),{\r\n            method: (item.roomId) ? 'PUT' : 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item),\r\n        });\r\n        this.props.history.push('/rooms');\r\n    }\r\n\r\n    render() {\r\n        const {item} = this.state;\r\n        return <div>\r\n            <Container>\r\n                <h2>Edit Personal Information</h2>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"name\">Room name:</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"roomName\" value={item.name || ''}\r\n                               onChange={this.handleChange} autoComplete=\"First name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"area\">Room area:</Label>\r\n                        <input type=\"text\" pattern=\"[0-9]*\" maxLength=\"3\" name=\"area\" id=\"lastName\" value={item.area || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Area\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n                        <Button color=\"secondary\" tag={Link} to=\"/\">Cancel</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            </Container>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(RoomsEdit);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport RoomsEdit from \"../RoomsEdit\";\r\n\r\nconst RoomsEditContainer = withRouter((props)=>{\r\n    return(<RoomsEdit history={props.history} store={props.store}/>)\r\n});\r\n\r\n\r\nexport default RoomsEdit;\r\n","import React, { Component } from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport LoadingScreen from './LoadingScreen';\r\nimport SuperTable from './SuperTable';\r\nimport ProtectedContainer from \"./ProtectedContainer\";\r\n\r\nclass transactions extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const transationsPerLoad = 20;\r\n        this.state = {transactions: [], transactionCount: 0, \r\n            isLoading: true, isLoadingMore: false, \r\n            transationsLoaded: 0, transationsPerLoad: transationsPerLoad};\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n        fetch('api/transactions/amount')\r\n            .then(response => response.json())\r\n            .then(data => this.setState({transactionCount: data.amount}))\r\n            .then( () => this.loadMore());\r\n    }\r\n\r\n    async remove(id) {\r\n        await fetch(`/api/transaction/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(() => {\r\n            let updatedTransactions = [...this.state.transactions].filter(i => i.transactionId !== id);\r\n            this.setState({transactions: updatedTransactions});\r\n        });\r\n    }\r\n\r\n    async loadMore()\r\n    {\r\n        let newTransactionCount = this.state.transationsLoaded + this.state.transationsPerLoad;\r\n        this.setState({isLoadingMore: true, transationsLoaded: newTransactionCount})\r\n        await fetch('api/transactions/' + (this.state.transactionCount - newTransactionCount + 1) +'/' + (this.state.transactionCount))\r\n            .then(response => response.json())\r\n            .then(data => this.setState({transactions: data, isLoading: false, isLoadingMore: false}))\r\n    }\r\n\r\n    render() {\r\n        const {transactions, isLoading} = this.state;\r\n\r\n        if (isLoading) {\r\n            return <LoadingScreen/>;\r\n        }\r\n\r\n        const rows = transactions.map(transaction => {\r\n            return [\r\n                transaction.colonyName,\r\n                transaction.resourceName,\r\n                transaction.transaction.amount,\r\n                transaction.roomName,\r\n                <ButtonGroup>\r\n                    <ProtectedContainer roles={[\"MANAGER\"]}> <Button onClick={() => this.remove(transaction.transactionId)}>Delete</Button></ProtectedContainer>\r\n                </ButtonGroup>,\r\n            ]\r\n        });\r\n\r\n        rows.reverse();\r\n\r\n        const labels = [\r\n            {name: \"Traded with\"},\r\n            {name: \"Resource\"},\r\n            {name: \"Amount\"},\r\n            {name: \"Taken from/put in\"},\r\n            {name: \"Actions\", class: \"Shrink\"},\r\n        ];\r\n\r\n        const addButton = <Button to=\"/transactions/new\">Add transaction?</Button>;\r\n\r\n        const loadMoreButton = this.state.isLoadingMore ? \r\n            <LoadingScreen/> :            \r\n            <Button onClick={() => this.loadMore()}>Load {this.state.transationsPerLoad} more</Button> ;\r\n\r\n\r\n        return (\r\n            <div>\r\n                <SuperTable title={\"Our \" + this.state.transationsLoaded + \" latest machinations:\"} \r\n                        labels={labels} rows={rows} addButton={addButton} enableSearch/>\r\n                {loadMoreButton}    \r\n            </div>       \r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default transactions;\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport TransactionsPage from \"../TransactionsPage\";\r\n\r\nconst TransactionsPageContainer = withRouter((props)=>{\r\n    return(<TransactionsPage history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default TransactionsPageContainer;","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass OccupationsEdit extends Component {\r\n\r\n    emptyItem = {\r\n        occupationId: '',\r\n        name: '',\r\n        description: '',\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            item: this.emptyItem\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let occupationId = this.props.match.params.occupationId;\r\n        console.log(occupationId);\r\n        if (this.props.match.params.occupationId !== 'new') {\r\n            const occupation = await (await fetch('/api/occupation/' + occupationId)).json();\r\n            this.setState({item: occupation});\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({item});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const {item} = this.state;\r\n        console.log(item);\r\n        await fetch('/api/occupation' + (item.occupationId ? '/' + item.occupationId : ''),{\r\n            method: (item.occupationId) ? 'PUT' : 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item),\r\n        });\r\n        this.props.history.push('/occupations');\r\n    }\r\n\r\n    render() {\r\n        const {item} = this.state;\r\n        return <div>\r\n            <Container>\r\n                <h2>Edit Occupation Information</h2>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"name\">Occupation name:</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"occupationName\" value={item.name || ''}\r\n                               onChange={this.handleChange} autoComplete=\"First name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"description\">Occupation description:</Label><br/>\r\n                        <Input type=\"textarea\" name=\"description\" id=\"occupation-description\" value={item.description || ''}\r\n                               onChange={this.handleChange}/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n                        <Button color=\"secondary\" tag={Link} to=\"/\">Cancel</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            </Container>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(OccupationsEdit);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport OccupationsEdit from \"../OccupationsEdit\";\r\n\r\nconst OccupationsEditContainer = withRouter((props)=>{\r\n    return(<OccupationsEdit history={props.history} store={props.store}/>)\r\n});\r\n\r\n\r\nexport default OccupationsEdit;\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass ColoniesEdit extends Component {\r\n\r\n    emptyItem = {\r\n        colonyId: '',\r\n        name: '',\r\n        leaderName: '',\r\n        leaderLastName: '',\r\n        population: '',\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            item: this.emptyItem\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let colonyId = this.props.match.params.colonyId;\r\n        console.log(colonyId);\r\n        if (this.props.match.params.colonyId !== 'new') {\r\n            const colony = await (await fetch('/api/colony/' + this.props.match.params.colonyId)).json();\r\n            this.setState({item: colony});\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({item});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const {item} = this.state;\r\n        console.log(item);\r\n        await fetch('/api/colony' + (item.colonyId ? '/' + item.colonyId : ''),{\r\n            method: (item.colonyId) ? 'PUT' : 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item),\r\n        });\r\n        this.props.history.push('/colonies');\r\n    }\r\n\r\n    render() {\r\n        const {item} = this.state;\r\n        return <div>\r\n            <Container>\r\n                <h2>Edit Personal Information</h2>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"name\">Colony name:</Label>\r\n                        <Input type=\"text\" name=\"name\" id=\"colonyName\" value={item.name || ''}\r\n                               onChange={this.handleChange} autoComplete=\"First name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"leaderName\">Leader's first name:</Label>\r\n                        <Input type=\"text\" name=\"leaderName\" id=\"leaderName\" value={item.leaderName || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Leader first name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"leaderLastName\">Leader's last name:</Label>\r\n                        <Input type=\"text\" name=\"leaderLastName\" id=\"leaderLastName\" value={item.leaderLastName || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Leader last name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"population\">Population:</Label>\r\n                        <input type=\"text\" pattern=\"[0-9]*\" name=\"population\" id=\"population\" value={item.population || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Population\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n                        <Button color=\"secondary\" tag={Link} to=\"/colonies\">Cancel</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            </Container>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(ColoniesEdit);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport ColoniesEdit from \"../ColoniesEdit\";\r\n\r\nconst ColoniesEditContainer = withRouter((props)=>{\r\n    return(<ColoniesEdit history={props.history} store={props.store}/>)\r\n});\r\n\r\n\r\nexport default ColoniesEdit;\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass ResourcesEdit extends Component {\r\n\r\n    emptyItem = {\r\n        resourceId: '',\r\n        resourceName: '',\r\n        roomName: '',\r\n        amount: ''\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            item: this.emptyItem\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let resourceId = this.props.match.params.resourceId;\r\n        console.log(resourceId);\r\n        if (this.props.match.params.resourceId !== 'new') {\r\n            const resource = await (await fetch('/api/resource/' + this.props.match.params.resourceId)).json();\r\n            this.setState({item: resource});\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        let item = {...this.state.item};\r\n        item[name] = value;\r\n        this.setState({item});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const {item} = this.state;\r\n\r\n        let storedResourceId = {\r\n            resourceId: '',\r\n            roomId: ''\r\n        };\r\n\r\n        let storedResource = {\r\n            storedResourceId,\r\n            amount: ''\r\n        };\r\n\r\n        const resource = await (await fetch('/api/resourcename/' + item.resourceName)).json();\r\n        const room = await (await fetch('/api/roomname/' + item.roomName)).json();\r\n        console.log(resource);\r\n        console.log(room);\r\n        storedResource.storedResourceId.resourceId = resource.resourceId;\r\n        storedResource.storedResourceId.roomId = room.roomId;\r\n        storedResource.amount = item.amount;\r\n        console.log(storedResource);\r\n        await fetch('/api/storedResource' + (item.resourceId ? '/' + item.resourceId : ''),{\r\n            method: (item.resourceId) ? 'PUT' : 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(storedResource),\r\n        });\r\n        this.props.history.push('/resources');\r\n    }\r\n\r\n    render() {\r\n        const {item} = this.state;\r\n        return <div>\r\n            <Container>\r\n                <h2>Resource:</h2>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <FormGroup>\r\n                        <Label for=\"resourceName\">Resource name:</Label>\r\n                        <Input type=\"text\" name=\"resourceName\" id=\"resourceName\" value={item.resourceName || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Resource name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"roomName\">Room name:</Label>\r\n                        <Input type=\"text\" name=\"roomName\" id=\"roomName\" value={item.roomName || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Room name\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label for=\"amount\">Amount:</Label>\r\n                        <input type=\"text\" pattern=\"[0-9]*\" name=\"amount\" id=\"amount\" value={item.amount || ''}\r\n                               onChange={this.handleChange} autoComplete=\"Amount\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\r\n                        <Button color=\"secondary\" tag={Link} to=\"/resources\">Cancel</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            </Container>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(ResourcesEdit);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport ResourcesEdit from \"../ResourcesEdit\";\r\n\r\nconst ResourcesEditContainer = withRouter((props)=>{\r\n    return(<ResourcesEdit history={props.history} store={props.store}/>)\r\n});\r\n\r\n\r\nexport default ResourcesEdit;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { Switch, Route} from \"react-router-dom\";\r\nimport \"./style.scss\"\r\nimport LoginContainer from \"./Containers/LoginContainer\";\r\nimport HomeContainer from \"./Containers/HomeContainer\";\r\nimport RegisterContainer from \"./Containers/RegisterContainer\";\r\nimport ColonistsContainer from \"./Containers/ColonistsContainer\";\r\nimport NavigationBarContainer from './Containers/NavigationBarContainer';\r\nimport AnimalsPageContainer from './Containers/AnimalsPageContainer';\r\nimport RoomsPageContainer from './Containers/RoomsPageContainer';\r\nimport OccupationsPageContainer from './Containers/OccupationsPageContainer';\r\nimport ColoniesPageContainer from './Containers/ColoniesPageContainer';\r\nimport HomeEditContainer from \"./Containers/HomeEditContainer\";\r\nimport ResourcesPage from './ResourcesPage';\r\nimport WorkPageContainer from \"./Containers/WorkPageContainer\";\r\nimport ReportPageContainer from \"./Containers/ReportPageContainer\";\r\nimport ReviewPageContainer from \"./Containers/ReviewPageContainer\";\r\nimport AnimalsEditContainer from \"./Containers/AnimalsEditContainer\";\r\nimport RoomsEditContainer from \"./Containers/RoomsEditContainer\";\r\nimport TransactionsPageContainer from \"./Containers/TransactionsPageContainer\";\r\nimport OccupationsEditContainer from \"./Containers/OccupationsEditContainer\";\r\nimport ColoniesEditContainer from \"./Containers/ColoniesEditContainer\";\r\nimport ResourcesEditContainer from \"./Containers/ResourcesEditContainer\";\r\nimport LoadingScreen from './LoadingScreen';\r\n\r\nclass App extends React.Component{\r\n\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n        const pages = [\r\n            {\r\n                path: \"/colonists\",\r\n                name: \"Colony residents\", showNavigationTab: true, \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: ColonistsContainer},\r\n            {\r\n                path: \"/work\",\r\n                name: \"My work\", showNavigationTab: true, \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: WorkPageContainer},\r\n            {\r\n                path: \"/report/:occupationId\",\r\n                name: \"Report your work progress\", showNavigationTab: false, \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: ReportPageContainer},\r\n            {\r\n                path: \"/review\",\r\n                name: \"Review work reports\", showNavigationTab: true, \r\n                roleAccess: [\"MANAGER\"],\r\n                pageComponent: ReviewPageContainer},\r\n            {\r\n                path: \"/animals/:animalId\",\r\n                name: \"Editing animals\", showNavigationTab: false,\r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: AnimalsEditContainer},\r\n            {\r\n                path: \"/animals\",\r\n                name: \"Animals\", showNavigationTab: true, \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: AnimalsPageContainer},\r\n            {\r\n                path: \"/rooms/:roomId\",\r\n                name: \"Editing rooms\", showNavigationTab: false,\r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: RoomsEditContainer},\r\n            {\r\n                path: \"/rooms\",\r\n                name: \"Rooms\", showNavigationTab: true,\r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: RoomsPageContainer},\r\n            {\r\n                path: \"/occupations/:occupationId\",\r\n                name: \"Editing occupations\", showNavigationTab: false,\r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: OccupationsEditContainer},\r\n            {\r\n                path: \"/occupations\",\r\n                name: \"Occupations\", showNavigationTab: true,\r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: OccupationsPageContainer},\r\n            {\r\n                path: \"/resources/:resourceId\",\r\n                name: \"Editing occupations\", showNavigationTab: false,\r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: ResourcesEditContainer},\r\n            {\r\n                path: \"/resources\",\r\n                name: \"Our resources\", showNavigationTab: true, \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: ResourcesPage},\r\n            {\r\n                path: \"/transactions\",\r\n                name: \"Trade deals\", showNavigationTab: true, \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: TransactionsPageContainer},\r\n            {\r\n                path: \"/colonies/:colonyId\",\r\n                name: \"Editing colonies\", showNavigationTab: false,\r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: ColoniesEditContainer},\r\n            {\r\n                path: \"/colonies\",\r\n                name: \"Other colonies\", showNavigationTab: true, \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: ColoniesPageContainer},\r\n            {\r\n                path: \"/edit\",\r\n                name: \"Edit user details\", showNavigationTab: false,  \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: HomeEditContainer},\r\n            {\r\n                path: \"/\",\r\n                name: \"Userpage\", showNavigationTab: true,  \r\n                roleAccess: [\"USER\", \"MANAGER\"],\r\n                pageComponent: HomeContainer},\r\n        ];\r\n        this.state = {pages: pages, isLoading: true};\r\n    }\r\n    \r\n    componentDidMount() {\r\n\r\n        this.setState({isLoading: true});        \r\n        fetch('/user/' + this.props.user)\r\n            .then(response => response.json())\r\n            .then(data => this.props.dispatch({\r\n                type: \"APP_SET_ROLES\",\r\n                value: data}))\r\n            .then( () => fetch('/api/colonist/' + this.props.user)\r\n                .then(response => response.json())\r\n                .then(data => this.props.dispatch({\r\n                    type: \"APP_SET_COLONIST\",\r\n                    value: data}))\r\n                .then(() => this.setState({isLoading: false}))\r\n            )\r\n    }\r\n\r\n    isUserOfRole(pageRoles)\r\n    {\r\n        let out = false;\r\n        this.props.roles.forEach(userRole => {\r\n            pageRoles.forEach(pageRole => {\r\n                if (userRole === pageRole) out = true; // Fuck JS c:\r\n            })\r\n        });\r\n        return out;\r\n    }\r\n    \r\n\r\n    render() {\r\n        let isLoggedIn = !(this.props.user===\"null\" || this.props.user===null);\r\n\r\n        if (!isLoggedIn)\r\n            return (\r\n                <div className=\"App\">                    \r\n                    <div className=\"Page LoginPage\">\r\n                        <Switch>\r\n                            <Route path=\"/register\" component={RegisterContainer}/>\r\n                            <Route component={LoginContainer}/>\r\n                        </Switch>\r\n                    </div>\r\n                    <Footer/>\r\n                </div>\r\n            );\r\n        \r\n        \r\n        if (this.state.isLoading)\r\n            return (\r\n                <div className=\"App\">                    \r\n                    <div className=\"Page\">\r\n                        <LoadingScreen/>\r\n                    </div>\r\n                    <Footer/>\r\n                </div>\r\n            );\r\n        \r\n        \r\n        const pages = this.state.pages;\r\n\r\n        const pageRouters = pages.map(page =>\r\n        {\r\n            if (this.isUserOfRole(page.roleAccess))\r\n                return (                    \r\n                    <Route key={page.path} path={page.path} component={page.pageComponent}/>\r\n                )\r\n            else console.log(\"Can't access \" + page.name);\r\n        })\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <NavigationBarContainer pages={pages}/>\r\n                <div className=\"Page\">\r\n                    <Switch>\r\n                        {pageRouters}\r\n                    </Switch>                        \r\n                </div>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst Header = ()=>{\r\n    return(<div className=\"header\">ИСБД, Курсовая работа.\r\n        <span className=\"variant\"> Щербаков В.Ю., Осипов О., P33122.</span>\r\n    </div>)\r\n};\r\n\r\nconst Footer = ()=>{\r\n    return(\r\n        <div className=\"Footer\">\r\n            <div className=\"Left\">ИСБД, Курсовая работа. Щербаков В.Ю., Осипов О., P33122.</div>\r\n            <div className=\"Rigt\">Copyright &copy;ItmoLabs all rights were broken</div>\r\n        </div>)\r\n};\r\n\r\n\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n        roles: store.appState.roles\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import {combineReducers} from \"redux\";\r\n\r\nconst appReducer = (state={}, action)=>{\r\n    switch (action.type) {\r\n        case(\"APP_LOGIN_SUCCESS\"):{\r\n            return Object.assign({}, state, {user: action.value});\r\n        }\r\n        case(\"APP_LOGOUT\"):{\r\n            return Object.assign({}, state, {user: null});\r\n        }\r\n        case(\"APP_SET_ROLES\"):{\r\n            return Object.assign({}, state, {roles: action.value});\r\n        }\r\n        case(\"APP_SET_COLONIST\"):{\r\n            return Object.assign({}, state, {colonist: action.value});\r\n        }\r\n\r\n\r\n        case(\"APP_UPDATE_POINTS_SUCCESS\"):{\r\n            return Object.assign({}, state, {points: action.value});\r\n        }\r\n        case(\"APP_UPDATE_DRAWING_SUCCESS\"):{\r\n            return Object.assign({}, state, {drawing: action.value});\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\nconst loginReducer = (state={}, action)=>{\r\n    switch (action.type) {\r\n        case(\"LOGIN_SET_LOGIN\"):{\r\n            return Object.assign({}, state, {login: action.value, formCorrect: action.value.length>0&&state.password.length>0});\r\n        }\r\n        case(\"LOGIN_SET_PASSWORD\"):{\r\n            return Object.assign({}, state, {password: action.value, formCorrect: action.value.length>0&&state.login.length>0});\r\n        }\r\n        case(\"LOGIN_SET_ERROR\"):{\r\n            return Object.assign({}, state, {error: action.value});\r\n        }\r\n        case(\"APP_LOGIN_SUCCESS\"):{\r\n            return Object.assign({}, state, {error: false, login: \"\", password: \"\", formCorrect: false});\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\nconst registerReducer = (state={}, action)=>{\r\n    switch (action.type) {\r\n        case(\"REGISTER_SET_LOGIN\"):{\r\n            return Object.assign({}, state, {login: action.value,\r\n                formCorrect: action.value.length>0&&state.password.length>0&&state.rPassword.length>0});\r\n        }\r\n        case(\"REGISTER_SET_PASSWORD\"):{\r\n            return Object.assign({}, state, {password: action.value,\r\n                formCorrect: action.value.length>0&&state.login.length>0&&state.rPassword.length>0});\r\n        }\r\n        case(\"REGISTER_SET_R_PASSWORD\"):{\r\n            return Object.assign({}, state, {rPassword: action.value,\r\n                formCorrect: action.value.length>0&&state.login.length>0&&state.password.length>0});\r\n        }\r\n        case(\"REGISTER_SET_LOGIN_ERROR\"):{\r\n            return Object.assign({}, state, {loginError: action.value});\r\n        }\r\n        case(\"REGISTER_SET_PASSWORD_ERROR\"):{\r\n            return Object.assign({}, state, {passwordError: action.value});\r\n        }\r\n        case(\"APP_REGISTER_SUCCESS\"):{\r\n            return {login: \"\", password: \"\", rPassword: \"\", loginError: false, passwordError: false, formCorrect: false}\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\nconst mainReducer = (state={}, action)=>{\r\n    switch (action.type) {\r\n        case \"MAIN_SET_X\":{\r\n            if((Number(action.value)||(Number(action.value)===0&&action.value!==\"\"))\r\n                &&!action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-4&&Number(action.value)<=4)\r\n            {\r\n                return Object.assign({}, state, {xField: Number(action.value)});\r\n            }\r\n            if(action.value===\"-\"||action.value===\"\"||action.value===\".\"||\r\n                (action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-4&&Number(action.value)<=4)){\r\n                return Object.assign({}, state, {xField: action.value});\r\n            }\r\n            return state;\r\n        }\r\n        case \"MAIN_SET_Y\":{\r\n            if((Number(action.value)||(Number(action.value)===0&&action.value!==\"\"))\r\n                &&!action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-3&&Number(action.value)<=5)\r\n            {\r\n                return Object.assign({}, state, {yField: Number(action.value)});\r\n            }\r\n            if(action.value===\"-\"||action.value===\"\"||action.value===\".\"||\r\n                (action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-3&&Number(action.value)<=5)){\r\n                return Object.assign({}, state, {yField: action.value});\r\n            }\r\n            return state;\r\n        }\r\n        case \"MAIN_SET_R\":{\r\n            return Object.assign({}, state, {rField: Number(action.value)});\r\n        }\r\n        case \"APP_LOGOUT\":{\r\n            return {xField: \"\", yField: \"\", rField: 0.5}\r\n        }\r\n        case \"MAIN_SET_CHANGE_X\":{\r\n            if((Number(action.value)||(Number(action.value)===0&&action.value!==\"\"))\r\n                &&!action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-3&&Number(action.value)<=5)\r\n            {\r\n                return Object.assign({}, state, {xChange: Number(action.value)});\r\n            }\r\n            if(action.value===\"-\"||action.value===\"\"||action.value===\".\"||\r\n                (action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-3&&Number(action.value)<=5)){\r\n                return Object.assign({}, state, {xChange: action.value});\r\n            }\r\n            return state;\r\n        }\r\n        case \"MAIN_SET_CHANGE_Y\":{\r\n            if((Number(action.value)||(Number(action.value)===0&&action.value!==\"\"))\r\n                &&!action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-5&&Number(action.value)<=5)\r\n            {\r\n                return Object.assign({}, state, {yChange: Number(action.value)});\r\n            }\r\n            if(action.value===\"-\"||action.value===\"\"||action.value===\".\"||\r\n                (action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-5&&Number(action.value)<=5)){\r\n                return Object.assign({}, state, {yChange: action.value});\r\n            }\r\n            return state;\r\n        }\r\n        case \"MAIN_SET_CURRENT_POINT\":{\r\n            return Object.assign({}, state, {currentPoint: Number(action.value.id)});\r\n        }\r\n        default:{\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport default combineReducers({\r\n    appState: appReducer,\r\n    loginState: loginReducer,\r\n    registerState: registerReducer,\r\n    mainState: mainReducer\r\n})","import {DEFAULT_URL} from \"../index\";\n\nconst loginMiddleware = store => next => action =>{\n    switch (action.type) {\n        case \"APP_LOGIN\":{\n            sendLoginRequest(store, action.value.history);\n            return(next(action))\n        }\n        default:{next(action)}\n    }\n};\nconst sendLoginRequest = (store, history)=>{\n    let user = {login: store.getState().loginState.login, password: store.getState().loginState.password};\n    let req = new XMLHttpRequest();\n    req.open(\"POST\", `${DEFAULT_URL}/login`, true);\n    req.onload = ()=>handleLoginResponse(req.responseText, store, history);\n    req.onerror = ()=> alert(\"Сервер временно недоступен\");\n    req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    req.send(`username=${user.login}&password=${user.password}`);\n};\n\nconst  handleLoginResponse = (text, store, history)=>{\n    let response = JSON.parse(text);\n    if(response.status===200){\n        window.localStorage.setItem(\"user\", store.getState().loginState.login);\n        store.dispatch({type:\"APP_LOGIN_SUCCESS\", value:store.getState().loginState.login});\n        history.push(\"/\");\n    }\n    else store.dispatch({type: \"LOGIN_SET_ERROR\", value: true})\n};\n\nexport default loginMiddleware;","import {DEFAULT_URL} from \"../index\";\n\nconst registerMiddleware = store => next => action =>{\n    switch (action.type) {\n        case \"APP_REGISTER\":{\n            register(store, action.value.history);\n            return(next(action))\n        }\n        case \"APP_REGISTER_SUCCESS\":{\n            store.dispatch({type: \"LOGIN_SET_LOGIN\", value: store.getState().registerState.login});\n            store.dispatch({type: \"LOGIN_SET_PASSWORD\", value: store.getState().registerState.password});\n            store.dispatch({type: \"APP_LOGIN\", value:{history: action.value.history}});\n            return(next(action));\n        }\n        default:{next(action)}\n    }\n};\n\nconst register = (store, history)=>{\n    if(store.getState().registerState.password===store.getState().registerState.rPassword){\n        store.dispatch({type: \"REGISTER_SET_PASSWORD_ERROR\",value: false});\n        sendLoginRequest(store, history)\n    }\n    else{\n        store.dispatch({type: \"REGISTER_SET_PASSWORD_ERROR\",value: true});\n    }\n};\n\nconst sendLoginRequest = (store, history)=>{\n    let user = {login: store.getState().registerState.login, password: store.getState().registerState.password};\n    let req = new XMLHttpRequest();\n    req.open(\"POST\", `${DEFAULT_URL}/register`, true);\n    req.onload = ()=>handleRegisterResponse(req.responseText, store, history);\n    req.onerror = ()=> alert(\"Сервер временно недоступен\");\n    req.setRequestHeader('Content-Type', 'application/json');\n    req.send(JSON.stringify(user));\n};\n\nconst handleRegisterResponse = (text, store, history)=>{\n    let response = JSON.parse(text);\n    if(response.status===200){\n        store.dispatch({type: \"APP_REGISTER_SUCCESS\", value:{history: history}})\n    }\n    else store.dispatch({type: \"REGISTER_SET_LOGIN_ERROR\",value: true});\n};\n\nexport default registerMiddleware;","import {DEFAULT_URL} from \"../index\";\n\n\nconst mainMiddleware = store => next => action =>{\n    switch (action.type) {\n        case \"APP_LOGOUT\":{\n            let req = new XMLHttpRequest();\n            req.open(\"GET\", `${DEFAULT_URL}/logout`, true);\n            req.send();\n            window.localStorage.setItem(\"user\", null);\n            action.value.history.push(\"/login\");\n            return next(action)\n        }\n        case \"APP_GET_POINTS\":{\n            getPoints(store, action.value.history);\n            return next(action)\n        }\n        case \"MAIN_ADD_POINT\":{\n            addPoint(store, action.value);\n            store.dispatch({type:\"MAIN_SET_Y\", value:\"\"});\n            return next(action)\n        }\n        case \"APP_UPDATE_POINTS_SUCCESS\":{\n            updateDrawing(store,action.value,store.getState().mainState.rField);\n            return next(action);\n        }\n        case \"MAIN_SET_R\":{\n            updateDrawing(store,store.getState().appState.points,Number(action.value));\n            return next(action);\n        }\n        case \"MAIN_SET_CURRENT_POINT\":{\n            if(action.value.id!==0){\n                let history = action.value.pointHistoryElements.concat().sort((a,b)=>b.date-a.date);\n                store.dispatch({type: \"MAIN_SET_CHANGE_X\", value: \"\"+history[0].x});\n                store.dispatch({type: \"MAIN_SET_CHANGE_Y\", value: \"\"+history[0].y})\n            }\n            else {\n                store.dispatch({type: \"MAIN_SET_CHANGE_X\", value: \"\"});\n                store.dispatch({type: \"MAIN_SET_CHANGE_Y\", value: \"\"})\n            }\n            return next(action);\n        }\n        case \"MAIN_UPDATE_POINT\":{\n            let history = action.value.pointHistoryElements.concat().sort((a,b)=>b.date-a.date)[0];\n            if(Number(store.getState().mainState.xChange)!==Number(history.x)|| Number(store.getState().mainState.yChange)!==Number(history.y)){\n                updatePoint(store, {id: store.getState().mainState.currentPoint,\n                    x:store.getState().mainState.xChange, y:store.getState().mainState.yChange});}\n            else{\n                store.dispatch({type: \"MAIN_SET_CURRENT_POINT\", value: {id:0}})\n            }\n            return next(action);\n        }\n        case \"MAIN_DELETE_POINT\":{\n            deletePoint(store, action.value);\n            store.dispatch({type: \"MAIN_SET_CURRENT_POINT\", value: {id:0}});\n            return next(action);\n        }\n        default: return next(action);\n    }\n};\n\nconst updateDrawing = (store, value, r)=>{\n    let array = [];\n    for(let i of value){\n        let x = i.pointHistoryElements.concat().sort((a,b)=>b.date-a.date)[0].x;\n        let y = i.pointHistoryElements.concat().sort((a,b)=>b.date-a.date)[0].y;\n        array.push({x:x,y:y,ch:(x>=0 && y>=0 && r>=(x+y)) || (x<=0 && y<=0 && x*x+y*y<=r*r) || (x>=0 && y<=0 && x<=r && y>=-r)});\n    }\n    store.dispatch({type:\"APP_UPDATE_DRAWING_SUCCESS\", value: array});\n};\n\nconst getPoints = (store, history)=>{\n    let req = new XMLHttpRequest();\n    req.open(\"GET\", `${DEFAULT_URL}/get`, true);\n    req.onload = ()=>handleUpdate(req.responseText, store, history);\n    req.onerror = ()=>alert(\"Сервер временно недосупен\");\n    req.send();\n};\n\nconst addPoint = (store, value)=>{\n    let req = new XMLHttpRequest();\n    req.open(\"POST\", `${DEFAULT_URL}/add`, true);\n    req.onload = ()=>handleUpdate(req.responseText, store);\n    req.onerror = ()=>alert(\"Сервер временно недосупен\");\n    req.setRequestHeader('Content-Type', 'application/json');\n    req.send(JSON.stringify(value));\n};\n\nconst updatePoint = (store, value)=>{\n    let req = new XMLHttpRequest();\n    req.open(\"POST\", `${DEFAULT_URL}/update`, true);\n    req.onload = ()=>{handleUpdate(req.responseText, store); store.dispatch({type: \"MAIN_SET_CURRENT_POINT\", value: {id:0}})};\n    req.onerror = ()=>alert(\"Сервер временно недосупен\");\n    req.setRequestHeader('Content-Type', 'application/json');\n    req.send(JSON.stringify(value));\n};\n\nconst deletePoint = (store, value)=>{\n    let req = new XMLHttpRequest();\n    req.open(\"POST\", `${DEFAULT_URL}/delete`, true);\n    req.onload = ()=>{handleUpdate(req.responseText, store); store.dispatch({type: \"MAIN_SET_CURRENT_POINT\", value: {id:0}})};\n    req.onerror = ()=>alert(\"Сервер временно недосупен\");\n    req.setRequestHeader('Content-Type', 'application/json');\n    req.send(JSON.stringify({id: value.id}));\n};\n\n\nconst handleUpdate = (text, store, history=null)=>{\n    if(text.startsWith(\"{\")){\n        let response = JSON.parse(text);\n        if(response.status===200){\n            store.dispatch({type: \"APP_UPDATE_POINTS_SUCCESS\", value: response.answer})\n        }\n        else if (history){\n            alert(history);\n            store.dispatch({type: \"APP_LOGOUT\", value:{history: history}})\n        }\n    }\n    else store.dispatch({type: \"APP_LOGOUT\", value:{history: history}})\n};\n\n\n\nexport default mainMiddleware;","import {applyMiddleware} from \"redux\";\nimport loginMiddleware from \"./loginMiddleware\";\nimport registerMiddleware from \"./registerMiddleware\";\nimport mainMiddleware from \"./mainMiddleware\";\n\nexport default applyMiddleware(loginMiddleware, registerMiddleware, mainMiddleware);","import { createStore} from 'redux';\r\nimport reducers from './reducers';\r\nimport middleware from \"./middlewares/middlewares\";\r\n\r\n\r\nconst initialState = {\r\n    appState:{\r\n        user: window.localStorage.getItem(\"user\"),\r\n        roles: []\r\n    },\r\n    loginState:{\r\n        login: \"\",\r\n        password: \"\",\r\n        error: false,\r\n        formCorrect: false\r\n    },\r\n    registerState: {\r\n        login: \"\",\r\n        password: \"\",\r\n        rPassword: \"\",\r\n        loginError: false,\r\n        passwordError: false,\r\n        formCorrect: false\r\n    }\r\n};\r\n\r\nconst store = createStore(reducers, initialState, middleware);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from \"./store\";\n\nexport const DEFAULT_URL = \"http://\"+window.location.host;\n\nReactDOM.render(<BrowserRouter><Provider store={store}><App/></Provider></BrowserRouter>, document.getElementById('root'));\n\n"],"sourceRoot":""}